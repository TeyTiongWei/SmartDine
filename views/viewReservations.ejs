<%- contentFor('title') %>
View Reservations

<%- contentFor('css') %>
<link rel="stylesheet" href="/css/viewReservations.css">

<%- contentFor('body') %>
<!-- Main content goes here -->
<div class="mb-4">
    <h1 class="fw-bold mb-0">Manage Reservations</h1>
    <p class="text-secondary fs-4">Manage upcoming and past reservations</p>
</div>

<div class="d-flex justify-content-between align-items-center mb-1">
    <h4 class="fw-bold">Upcoming Reservations</h2>
    <span class="fw-medium me-1">Today's Date: <%= today %></span>
</div>
<div class="border border-2 rounded-4 px-4 mb-4">
    <table class="table table-hover table-fixed text-center mb-0">
        <thead>
            <tr>
                <th scope="col">Customer Name</th>
                <th scope="col">Date & Time</th>
                <th scope="col">Party Size</th>
                <th scope="col">Table Number</th>
                <th scope="col">Status</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <% upcomingReservations.forEach(r => { %>
            <tr>
                <td><%= r.customer_name %></td>
                <td><%= r.formatted_datetime %></td>
                <td><%= r.party_size %> People</td>
                <td><%= r.table_number %></td>
                <td class="status-<%= r.status.toLowerCase() %>"><%= r.status %></td>
                <td>
                    <% if (r.status === 'Scheduled') { %>
                        <a href="/editReservation/<%= r.id %>">Edit</a>
                    <% } else if (r.status === 'Ongoing') { %>
                        <a href="/editReservation/<%= r.id %>" class="disabled">Edit</a>
                    <% } %>
                </td>
            </tr>
            <% }); %>
        </tbody>
    </table>
</div>

<div class="d-flex justify-content-between align-items-center mb-1">
    <h4 class="fw-bold">Past Reservations</h2>
</div>
<div class="border border-2 rounded-4 px-4 mb-4">
    <table class="table table-hover table-fixed text-center mb-0">
        <thead>
            <tr>
                <th scope="col">Customer Name</th>
                <th scope="col">Date & Time</th>
                <th scope="col">Party Size</th>
                <th scope="col">Table Number</th>
                <th scope="col">Status</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <% pastReservations.forEach(r => { %>
            <tr>
                <td><%= r.customer_name %></td>
                <td><%= r.formatted_datetime %></td>
                <td><%= r.party_size %> People</td>
                <td><%= r.table_number %></td>
                <td class="status-<%= r.status.toLowerCase() %>"><%= r.status %></td>
                <td>
                    <a href="/deleteReservation/<%= r.id %>" class="text-danger">Delete</a>
                </td>
            </tr>
            <% }); %>
        </tbody>
    </table>
</div>